.TH MC2 1
.SH NAME
6m
.SH SYNOPSIS
.B 6m
.I -[hioS]
.I [file...]
.br
.SH DESCRIPTION
.PP
The ?m family of compilers compile Myrddin source into object files
for the corresponding architecture. There is one compiler for each
architecture supported, with a unique name. By default, if the input
file is named
.I filename.myr
then the the object file that is generated will be named
.I filename.o.
If the filename does not end with the suffix
.I .myr
then the suffix
.I .o
will simply be appended to it.

.PP
The following architectures are currently supported:
.TP 
6m
x86-64

.PP
The compiler options are as follows:

.TP
.B -d [flTri]
Prints debugging dumps. Additional options may be given to give more
debugging information for specific intermediate states of the compilation.

.TP
.B -h
Prints a summary of the available options.

.TP
.B -I path
Add 'path' to the search path for unquoted use statments. This option
does not affect the search path for local usefiles, which are always
searched relative to the compiler's current working directory. Without
any options, the search path defaults to /usr/include/myr.

.TP
.B -o output-file
Specifies that the generated code should be placed in

.TP
.B -S
Generate assembly instead of an object file.

.SH EXAMPLE
.EX
    6m foo.myr
    6m bar.myr
    ld -o foobar foo.o bar.o
.EE

.SH FILES
The source for this compiler is available from
.B git://git.eigenstate.org/git/ori/mc2.git

.SH SEE ALSO
.IR muse(1)
.IR ld(1)
.IR as(1)

.SH BUGS
.PP
The language is not yet complete, and the compilers often omit useful
constructs in spite of their desirability.
.PP
There are virtually no optimizations done, and the generated source is
often very poorly performing.
.PP
The current calling convention is stack, and not register, based, even
on architectures where it should be register based.
.PP
The calling convention is not C compatible.
